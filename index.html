<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Surprise</title>
    <style>
        :root {
            --bg-dark: #0d0101;
            --heart-red: #ff4d6d;
            --cake-pink: #ff4d6d;
            --cake-dark: #c9184a;
            --frosting: #fff0f3;
            --filling: #ff85a2;
            --knife-silver: linear-gradient(180deg, #f8f9fa 0%, #adb5bd 50%, #6c757d 100%);
            --handle-wood: linear-gradient(180deg, #402a23 0%, #2b1d19 100%);
        }

        body, html {
            margin: 0; padding: 0; height: 100vh;
            font-family: 'Segoe UI', Arial, sans-serif; overflow: hidden;
        }

        /* --- PAGE 1: HEART ANIMATION --- */
        #page1 {
            height: 100vh; display: flex; justify-content: center; align-items: center;
            background-color: var(--bg-dark); transition: opacity 1s ease-in-out;
        }
        .heart-container { position: relative; width: 90vw; max-width: 500px; height: 90vw; max-height: 500px; display: flex; justify-content: center; align-items: center; }
        .countdown { position: absolute; color: var(--heart-red); font-size: clamp(4rem, 15vw, 8rem); font-weight: 900; text-shadow: 0 0 20px var(--heart-red); z-index: 10; }
        .countdown::after { content: '3'; animation: countSequence 3s linear forwards; }
        @keyframes countSequence {
            0% { content: '3'; opacity: 1; transform: scale(1); }
            30% { content: '3'; opacity: 0; transform: scale(1.5); }
            33% { content: '2'; opacity: 1; transform: scale(1); }
            63% { content: '2'; opacity: 0; transform: scale(1.5); }
            66% { content: '1'; opacity: 1; transform: scale(1); }
            96% { content: '1'; opacity: 0; transform: scale(1.5); }
            100% { content: ''; opacity: 0; }
        }
        svg { width: 100%; height: 100%; filter: drop-shadow(0 0 15px var(--heart-red)); }
        .heart-ray { fill: none; stroke-width: 8; stroke-linecap: round; stroke-dasharray: 650; stroke-dashoffset: 650; animation: drawRay 3s ease-in-out forwards 3s, pulseHeart 1.5s ease-in-out infinite 6s; }
        @keyframes drawRay { to { stroke-dashoffset: 0; } }
        @keyframes pulseHeart { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.03); opacity: 0.8; } }
        .message-top { position: absolute; text-align: center; opacity: 0; animation: fadeIn 1.5s ease-out forwards 5.5s; width: 100%; }
        .message-top h1 { color: #fff; font-size: clamp(1.5rem, 8vw, 3rem); margin: 0; letter-spacing: 6px; font-weight: 900; }
        .message-top p { color: #ffb3c1; font-style: italic; margin-top: 5px; font-size: clamp(0.8rem, 4vw, 1.1rem); }
        @keyframes fadeIn { to { opacity: 1; } }

        /* --- PAGE 2, 3 & 6: PINK THEME --- */
        #page2, #page3, #page6 {
            display: none; height: 100vh; background: linear-gradient(135deg, #ffafbd, #ffc3a0);
            flex-direction: column; justify-content: center; align-items: center; position: relative; text-align: center;
        }
        .shower-item { position: absolute; top: -10%; font-size: 20px; animation: fall linear infinite; z-index: 1; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        .profile-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 5px solid white;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    object-fit: cover;
    z-index: 2;
}
        .ui-box { background: rgba(255, 255, 255, 0.85); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 2; width: 85%; max-width: 350px; }
        input[type="text"] { width: 100%; padding: 12px; margin: 15px 0; border: 2px solid var(--heart-red); border-radius: 25px; outline: none; text-align: center; box-sizing: border-box; font-size: 1rem; }
        .btn-next { background: var(--heart-red); color: white; border: none; padding: 12px 30px; border-radius: 25px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; margin-top: 15px; z-index: 10; }
        
        /* --- PAGE 3: SCRATCH CARD --- */
        .scratch-container { position: relative; width: 300px; height: 300px; user-select: none; z-index: 3; }
        .base-message { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; border-radius: 15px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; box-sizing: border-box; border: 5px solid var(--heart-red); }
        #scratch-canvas { position: absolute; top: 0; left: 0; cursor: crosshair; border-radius: 15px; }
        #scratchNextBtn { display: none; }

        /* --- PAGE 4: LANTERN SKY --- */
        #page4 { display: none; height: 100vh; width: 100vw; background: radial-gradient(circle at bottom, #1e3c72 0%, #111 100%); position: relative; overflow: hidden; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.5; animation: twinkle var(--duration) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }
        .lantern { position: absolute; width: 85px; height: 115px; background: rgba(255, 165, 0, 0.85); border-radius: 8px; box-shadow: 0 0 25px #ffa500, 0 0 50px #ff4500; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; color: #fff; text-align: center; padding: 8px; box-sizing: border-box; animation: floatUp 10s linear forwards; pointer-events: none; }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; } 100% { transform: translateY(-115vh) scale(0.6) rotate(15deg); opacity: 0; } }
        #skySubtext { position: absolute; top: 15%; width: 100%; text-align: center; color: white; pointer-events: none; }

        /* --- PAGE 5: CAKE --- */
        #page5 { display: none; height: 100vh; background: radial-gradient(circle, #fff5f5 0%, #ffc2d1 100%); flex-direction: column; justify-content: center; align-items: center; position: relative; overflow: hidden; }
        #balloonCanvas { position: absolute; top: 0; left: 0; pointer-events: none; z-index: 1; }
        .cake-area { position: relative; width: 350px; height: 250px; margin: 0 auto; z-index: 5; transform: scale(0.9); }
        .plate { width: 340px; height: 100px; background: #ffffff; border-radius: 50%; position: absolute; bottom: -20px; left: 5px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); z-index: 2; }
        .cake-body { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 240px; height: 150px; background: linear-gradient(to right, var(--cake-dark), var(--cake-pink), var(--cake-dark)); border-radius: 15px; z-index: 4; }
        .frosting-top { width: 100%; height: 40px; background: var(--frosting); border-radius: 15px 15px 50% 50% / 15px 15px 20px 20px; position: absolute; top: 0; }
        .slice-3d { position: absolute; width: 100px; height: 150px; right: 45px; bottom: 20px; z-index: 5; opacity: 0; transition: all 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .slice-top { width: 100px; height: 150px; background: var(--cake-pink); clip-path: polygon(50% 0%, 100% 100%, 0% 100%); border-top: 10px solid var(--frosting); }
        .slice-side { position: absolute; top: 10px; width: 100%; height: 140px; background: repeating-linear-gradient(var(--cake-pink), var(--cake-pink) 40px, var(--filling) 40px, var(--filling) 50px); clip-path: polygon(50% 0%, 100% 100%, 0% 100%); filter: brightness(0.8); }
        .knife-pro { position: absolute; width: 220px; height: 50px; right: -250px; top: -20px; opacity: 0; z-index: 100; transition: all 0.7s ease; filter: drop-shadow(5px 10px 8px rgba(0,0,0,0.3)); }
        .k-blade { width: 140px; height: 35px; background: var(--knife-silver); float: left; clip-path: polygon(0 20%, 90% 20%, 100% 100%, 0 100%); }
        .k-bolster { width: 8px; height: 35px; background: #8d99ae; float: left; }
        .k-handle { width: 70px; height: 28px; background: var(--handle-wood); float: left; margin-top: 4px; border-radius: 0 8px 8px 0; position: relative; }
        .k-handle::after { content: ''; position: absolute; width: 4px; height: 4px; background: #8d99ae; border-radius: 50%; top: 12px; left: 15px; box-shadow: 20px 0 #8d99ae, 40px 0 #8d99ae; }
        .candles-box { position: absolute; top: -40px; width: 100%; display: flex; justify-content: space-evenly; z-index: 10; }
        .candle { width: 14px; height: 55px; background: linear-gradient(to right, #fff 50%, #ffd1dc 50%); border-radius: 4px; position: relative; }
        .flame { width: 16px; height: 26px; background: #ffb703; border-radius: 50% 50% 20% 20%; position: absolute; top: -28px; left: -1px; box-shadow: 0 0 20px #ffb703; animation: flicker 0.1s infinite alternate; }

        /* --- PAGE 6: SHAYARI CARD --- */
        #page6 .ui-box { min-width: 320px; text-align: center; }
        #typewriter { font-size: 20px; color: #ff4d6d; min-height: 1.2em; font-family: 'Courier New', monospace; font-weight: bold; }
        .cursor { border-right: 2px solid #ff4d6d; animation: blink 0.7s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        #fullShayari { display: none; margin-top: 20px; line-height: 1.6; font-weight: bold; color: #c9184a; }
        #shayariNextBtn { display: none; }

        /* --- PAGE 8: MEMORIES (now directly after shayari) --- */
        #page8 {
            display: none;
            height: 100vh;
            background: linear-gradient(135deg, #ffdde1, #ee9ca7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }
        #page8 h2 {
            color: #800f2f;
            margin-bottom: 20px;
        }
        .memories-grid {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 90vw;
        }
        .memories-grid img {
            width: 110px;
            height: 110px;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 3px solid #fff;
            cursor: pointer;
            background: #ffffff;
        }
        #page8 p {
            margin-top: 20px;
            color: #a4133c;
            font-weight: 600;
        }
        /* big image overlay */
        #bigImageOverlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
        #bigImageOverlay img {
            max-width: 90vw;
            max-height: 90vh;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* --- CUSTOM THANK YOU MODAL (no longer used but kept if you want later) --- */
        #thankYouModal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 900;
        }
        #thankYouModalContent {
            background: #fff0f3;
            padding: 25px 35px;
            border-radius: 20px;
            text-align: center;
            color: #c9184a;
            font-weight: bold;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            max-width: 80vw;
        }
    </style>
</head>
<body>

    <!-- PAGE 1 -->
    <div id="page1">
        <div class="heart-container">
            <div class="countdown"></div>
            <svg viewBox="0 0 500 500">
                <defs>
                    <linearGradient id="gradLeft" x1="50%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#ff4d6d" /><stop offset="100%" style="stop-color:#ffd700" /></linearGradient>
                    <linearGradient id="gradRight" x1="50%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#ff4d6d" /><stop offset="100%" style="stop-color:#ffd700" /></linearGradient>
                </defs>
                <path class="heart-ray" stroke="url(#gradLeft)" d="M250,150 A110,110 0 0,0 40,160 C40,320 250,450 250,450" />
                <path class="heart-ray" stroke="url(#gradRight)" d="M250,150 A110,110 0 0,1 460,160 C460,320 250,450 250,450" />
            </svg>
            <div class="message-top"><h1>My Valentine</h1><p>"More Special & Beautiful than Moon."</p></div>
        </div>
    </div>

    <!-- PAGE 2 -->
    <div id="page2">
        <img src="gif1.gif" alt="Profile" class="profile-img">
        <div class="ui-box">
            <h2 style="color: var(--heart-red); margin: 0; font-size: 1.1rem;">Enter the name for whom my heart is waiting for‚ù§Ô∏è</h2>
            <input type="text" id="userName" placeholder="Type here...">
            <button class="btn-next" onclick="goToScratch()">Next</button>
        </div>
    </div>

    <!-- PAGE 3 -->
    <div id="page3">
        <h2 id="personalMsg" style="color: white; text-shadow: 1px 1px 5px rgba(0,0,0,0.2); margin-bottom: 20px;"></h2>
        <div class="scratch-container">
            <div class="base-message">
                <h3>My Love for You:</h3>
                <p>"On this Valentine‚Äôs Day, I don‚Äôt just give you my love ‚Äî I give you my heart, my time, and every beautiful moment of my life to cherish together forever.."</p>
                <span style="font-size: 30px;">üíç‚ù§Ô∏è</span>
            </div>
            <canvas id="scratch-canvas" width="300" height="300"></canvas>
        </div>
        <button class="btn-next" id="scratchNextBtn" onclick="goToSky()">Make a Promise ‚ú®</button>
    </div>

    <!-- PAGE 4 -->
    <div id="page4" onclick="releaseLantern(event)">
        <div id="skySubtext">
            <h1 id="skyHeader" style="color: white; margin: 0;">Make some promises on Valentine Day</h1>
            <p id="skyCounter" style="color: white; font-style: italic;">Tap to release your 8 promises (0/8)</p>
        </div>
        <button id="finalNextBtn" class="btn-next" style="display:none; position:absolute; bottom:10%; left:50%; transform:translateX(-50%);" onclick="goToCake()">Go Further ‚ù§Ô∏è</button>
    </div>

    <!-- PAGE 5 -->
    <div id="page5">
        <canvas id="balloonCanvas"></canvas>
        <div class="ui-container" style="z-index: 10; text-align: center;">
            <h1 style="color: #800f2f; font-style: italic; margin-bottom: 30px;">Happy Valentine's Day</h1>
            <div class="cake-area">
                <div class="plate"></div>
                <div class="cake-body">
                    <div class="frosting-top"></div>
                    <div class="candles-box">
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                        <div class="candle"><div class="flame"></div></div>
                    </div>
                    <div class="knife-pro" id="knife">
                        <div class="k-blade"></div><div class="k-bolster"></div><div class="k-handle"></div>
                    </div>
                </div>
                <div class="slice-3d" id="slice"><div class="slice-top"></div><div class="slice-side"></div></div>
            </div>
            <button id="cutBtn" style="margin-top: 40px; padding: 15px 40px; border-radius: 50px; font-weight: bold; background: #c9184a; color: white; border: none; cursor: pointer; box-shadow: 0 5px 0 #800f2f;" onclick="handleCut()">Cut Cake</button>
        </div>
    </div>

    <!-- PAGE 6 -->
    <div id="page6">
        <div class="ui-box">
            <h3>Special Message</h3>
            <p><span id="typewriter"></span><span class="cursor" id="cursor"></span></p>
            <div id="fullShayari"></div>
            <button id="shayariNextBtn" class="btn-next" onclick="finalStep()">Next ‚ù§Ô∏è</button>
        </div>
    </div>

    <!-- PAGE 8: MEMORIES -->
    <div id="page8">
        <h2>Our Sweet Memories</h2>
        <div class="memories-grid">
            <img src="mem1.png" alt="Memory 1" onclick="showBigImage(this.src)">
            <img src="mem2.png" alt="Memory 2" onclick="showBigImage(this.src)">
            <img src="mem3.png" alt="Memory 3" onclick="showBigImage(this.src)">
        </div>
        <p>Thank you for being my Valentine. ‚ù§Ô∏è</p>
    </div>

    <!-- big image overlay -->
    <div id="bigImageOverlay" onclick="hideBigImage()">
        <img id="bigImage" src="" alt="Big memory">
    </div>

    <!-- custom thank you modal (unused now) -->
    <div id="thankYouModal">
        <div id="thankYouModalContent">
            Thanks for being my Valentine, I love you soo much ‚ù§Ô∏è
        </div>
    </div>

    <script>
        // --- TRANSITIONS ---
        setTimeout(() => {
            const p1 = document.getElementById('page1');
            p1.style.opacity = '0';
            setTimeout(() => { p1.style.display = 'none'; document.getElementById('page2').style.display = 'flex'; createShower('page2'); }, 1000);
        }, 9500);

        function createShower(pageId) {
            const symbols = ['ü©∑', '‚ú®', 'üíñ', '‚≠ê', '‚ù§Ô∏è'];
            for (let i = 0; i < 20; i++) {
                const item = document.createElement('div');
                item.className = 'shower-item';
                item.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];
                item.style.left = Math.random() * 100 + 'vw';
                item.style.animationDuration = (Math.random() * 3 + 2) + 's';
                document.getElementById(pageId).appendChild(item);
            }
        }

        function goToScratch() {
            const name = document.getElementById('userName').value;
            if (!name) return alert("Please enter your name!");
            document.getElementById('personalMsg').innerText = "Hey " + name + ", I have a secret...";
            document.getElementById('page2').style.display = 'none';
            document.getElementById('page3').style.display = 'flex';
            initScratch();
        }

        function initScratch() {
    const canvas = document.getElementById('scratch-canvas');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;

    // initial grey cover
    ctx.fillStyle = '#C0C0C0';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#666';
    ctx.font = "bold 16px Arial";
    ctx.textAlign = "center";
    ctx.fillText("Scratch to see something special...", canvas.width / 2, canvas.height / 2);

    function checkScratch() {
        const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
        let cleared = 0;
        for (let i = 3; i < data.length; i += 4) {
            if (data[i] === 0) cleared++;
        }
        if (cleared > (canvas.width * canvas.height * 0.45)) {
            document.getElementById('scratchNextBtn').style.display = 'block';
        }
    }

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        let clientX, clientY;

        if (e.touches && e.touches[0]) {
            // touch devices
            clientX = e.touches[0].clientX;
            clientY = e.touches[0].clientY;
        } else if (e.changedTouches && e.changedTouches[0]) {
            // some browsers use changedTouches
            clientX = e.changedTouches[0].clientX;
            clientY = e.changedTouches[0].clientY;
        } else {
            // mouse
            clientX = e.clientX;
            clientY = e.clientY;
        }

        return {
            x: clientX - rect.left,
            y: clientY - rect.top
        };
    }

    function scratch(e) {
        if (!isDrawing) return;
        e.preventDefault(); // stop scrolling while scratching on mobile
        const pos = getPos(e);
        ctx.globalCompositeOperation = 'destination-out';
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, 25, 0, Math.PI * 2);
        ctx.fill();
        checkScratch();
    }

    // mouse events
    canvas.addEventListener('mousedown', (e) => {
        isDrawing = true;
        scratch(e);
    });
    window.addEventListener('mouseup', () => { isDrawing = false; });
    canvas.addEventListener('mousemove', scratch);

    // touch events
    canvas.addEventListener('touchstart', (e) => {
        isDrawing = true;
        scratch(e);
    }, { passive: false });
    canvas.addEventListener('touchend', () => { isDrawing = false; });
    canvas.addEventListener('touchmove', scratch, { passive: false });
}


        function goToSky() { document.getElementById('page3').style.display = 'none'; document.getElementById('page4').style.display = 'block'; initStars(); }

        function initStars() {
            const sky = document.getElementById('page4');
            for (let i = 0; i < 80; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = star.style.height = Math.random() * 3 + 'px';
                star.style.top = Math.random() * 100 + 'vh'; star.style.left = Math.random() * 100 + 'vw';
                star.style.setProperty('--duration', (2 + Math.random() * 3) + 's');
                sky.appendChild(star);
            }
        }

        const promises = ["I'll always listen", "I'll be your strength", "Forever & Always", "No secrets", "Always honest", "By your side", "I promise to love you", "Always yours"];
        let sentCount = 0;
        function releaseLantern(e) {
            if (e.target.id === 'finalNextBtn') return;

            const lantern = document.createElement('div');
            lantern.className = 'lantern';
            lantern.innerText = promises[sentCount % promises.length];
            lantern.style.left = (e.clientX - 40) + 'px';
            lantern.style.top = (e.clientY - 55) + 'px';
            document.getElementById('page4').appendChild(lantern);
            sentCount++;

            const currentCount = Math.min(sentCount, promises.length);
            document.getElementById('skyCounter').innerText = `Tap to release your 8 promises (${currentCount}/8)`;
            if (sentCount >= 8) document.getElementById('finalNextBtn').style.display = 'block';

            setTimeout(() => lantern.remove(), 10000);
        }

        function goToCake() { document.getElementById('page4').style.display = 'none'; document.getElementById('page5').style.display = 'flex'; initBalloons(); }

        function handleCut() {
            if (document.getElementById('cutBtn').innerText === "Next") {
                document.getElementById('page5').style.display = 'none';
                document.getElementById('page6').style.display = 'flex';
                createShower('page6');
                startShayari();
                return;
            }
            document.querySelectorAll('.flame').forEach(f => f.style.display = 'none');
            const knife = document.getElementById('knife');
            const slice = document.getElementById('slice');
            knife.style.opacity = '1'; knife.style.right = '40px'; knife.style.top = '20px';
            setTimeout(() => {
                slice.style.opacity = '1';
                slice.style.transform = 'translate(120px, 40px) rotate(40deg)';
                knife.style.opacity = '0';
                document.getElementById('cutBtn').innerText = "Next";
            }, 800);
        }

        // --- SHAYARI ---
        const lines = [
            "Teri muskaan se roshan meri har shaam ho jaaye,",
            "Tere saath hoon toh har gham aaraam ho jaaye,",
            "Is Valentine pe bas itni si dua hai meri,",
            "Tu mile toh meri zindagi khoobsurat naam ho jaaye."
        ];
        let lineIdx = 0, charIdx = 0;

        function startShayari() {
            const target = document.getElementById("typewriter");
            if (lineIdx < lines.length) {
                if (charIdx < lines[lineIdx].length) {
                    target.textContent += lines[lineIdx].charAt(charIdx);
                    charIdx++;
                    setTimeout(startShayari, 70);
                } else {
                    setTimeout(() => {
                        target.textContent = "";
                        lineIdx++; charIdx = 0;
                        startShayari();
                    }, 1500);
                }
            } else {
                document.getElementById("cursor").style.display = "none";
                const full = document.getElementById("fullShayari");
                full.style.display = "block";
                full.innerHTML = lines.join("<br>");
                document.getElementById("shayariNextBtn").style.display = "inline-block";
            }
        }

        // AFTER SHAYARI ‚Üí DIRECTLY GALLERY PAGE
        function finalStep() {
            document.getElementById('page6').style.display = 'none';
            document.getElementById('page8').style.display = 'flex';
        }

        // --- BIG IMAGE VIEW ---
        function showBigImage(src) {
            const overlay = document.getElementById('bigImageOverlay');
            const img = document.getElementById('bigImage');
            img.src = src;
            overlay.style.display = 'flex';
        }
        function hideBigImage() {
            document.getElementById('bigImageOverlay').style.display = 'none';
        }

        // --- BALLOONS ---
        let balloons = [];
        function initBalloons() {
            const bCanvas = document.getElementById('balloonCanvas');
            const bCtx = bCanvas.getContext('2d');
            bCanvas.width = window.innerWidth; bCanvas.height = window.innerHeight;
            class Balloon {
                constructor() { this.reset(); }
                reset() {
                    this.x = Math.random() * bCanvas.width;
                    this.y = bCanvas.height + 200;
                    this.r = 20 + Math.random() * 20;
                    this.speed = 1 + Math.random() * 2;
                    this.hue = Math.floor(Math.random() * 360);
                    this.wiggle = Math.random() * 10;
                }
                update() {
                    this.y -= this.speed; this.wiggle += 0.05;
                    if (this.y < -200) this.reset();
                    bCtx.beginPath();
                    bCtx.moveTo(this.x, this.y + this.r);
                    bCtx.bezierCurveTo(this.x + Math.sin(this.wiggle)*10, this.y+this.r+20, this.x-Math.sin(this.wiggle)*10, this.y+this.r+40, this.x, this.y+this.r+60);
                    bCtx.strokeStyle = "rgba(100,100,100,0.3)"; bCtx.stroke();
                    bCtx.beginPath();
                    bCtx.ellipse(this.x, this.y, this.r * 0.8, this.r, 0, 0, Math.PI * 2);
                    bCtx.fillStyle = `hsla(${this.hue}, 80%, 65%, 0.8)`; bCtx.fill();
                }
            }
            for(let i=0; i<15; i++) balloons.push(new Balloon());
            function animate() { bCtx.clearRect(0,0,bCanvas.width, bCanvas.height); balloons.forEach(b => b.update()); requestAnimationFrame(animate); }
            animate();
        }
    </script>
</body>
</html>
